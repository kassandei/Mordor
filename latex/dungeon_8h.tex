\doxysection{include/dungeon.h File Reference}
\hypertarget{dungeon_8h}{}\label{dungeon_8h}\index{include/dungeon.h@{include/dungeon.h}}


Generazione e gestione delle stanze dei dungeon.  


{\ttfamily \#include "{}types.\+h"{}}\newline
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{dungeon_8h_ace3eee638bb973a126c49cf1f0540997}\label{dungeon_8h_ace3eee638bb973a126c49cf1f0540997} 
\#define {\bfseries DUNGEON\+\_\+\+ROOMS}~10
\item 
\Hypertarget{dungeon_8h_ad23cdb42f5163f6b0904219da76cc7d7}\label{dungeon_8h_ad23cdb42f5163f6b0904219da76cc7d7} 
\#define {\bfseries SWAMP\+\_\+\+ORC}~3
\item 
\Hypertarget{dungeon_8h_a41593c048d51884bf98eaf6ffacd958b}\label{dungeon_8h_a41593c048d51884bf98eaf6ffacd958b} 
\#define {\bfseries SWAMP\+\_\+\+MONSTERS}~5
\item 
\Hypertarget{dungeon_8h_a7702b0ee7dd4ff99f80be5f20ab29778}\label{dungeon_8h_a7702b0ee7dd4ff99f80be5f20ab29778} 
\#define {\bfseries MANSION\+\_\+\+MONSTERS}~5
\item 
\Hypertarget{dungeon_8h_a8411e8d7a7f91799b54c0925f53650d2}\label{dungeon_8h_a8411e8d7a7f91799b54c0925f53650d2} 
\#define {\bfseries CAVE\+\_\+\+TRAPS}~4
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{struct_dungeon}{Dungeon}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{dungeon_8h_aa19b29c001b15425389f03c6e74478c3}{generate\+Dungeon}} (\mbox{\hyperlink{struct_dungeon}{Dungeon}} \texorpdfstring{$\ast$}{*}dungeon)
\begin{DoxyCompactList}\small\item\em Inizializza un nuovo dungeon vuoto. \end{DoxyCompactList}\item 
\mbox{\hyperlink{struct_room}{Room}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{dungeon_8h_a46f6aa27a29bd75678a64e373ecc9017}{add\+Room}} (\mbox{\hyperlink{struct_dungeon}{Dungeon}} \texorpdfstring{$\ast$}{*}dungeon)
\begin{DoxyCompactList}\small\item\em Aggiunge una nuova stanza al dungeon. \end{DoxyCompactList}\item 
\mbox{\hyperlink{struct_room}{Room}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{dungeon_8h_af33fb2c001bbd1201abb8ea8459365c3}{generate\+Room}} (\mbox{\hyperlink{struct_dungeon}{Dungeon}} \texorpdfstring{$\ast$}{*}dungeon)
\begin{DoxyCompactList}\small\item\em Genera una stanza casuale in base al tipo di dungeon. \end{DoxyCompactList}\item 
\mbox{\hyperlink{struct_room}{Room}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{dungeon_8h_a741a4947ec416b9fce0634c4307ec9b6}{generate\+Room\+Swamp}} (\mbox{\hyperlink{struct_room}{Room}} \texorpdfstring{$\ast$}{*}room)
\begin{DoxyCompactList}\small\item\em Genera una stanza specifica per il dungeon della palude. \end{DoxyCompactList}\item 
\mbox{\hyperlink{struct_room}{Room}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{dungeon_8h_aedb836275d6d2f868c2faac640399de3}{generate\+Room\+Mansion}} (\mbox{\hyperlink{struct_room}{Room}} \texorpdfstring{$\ast$}{*}room)
\begin{DoxyCompactList}\small\item\em Genera una stanza specifica per il dungeon della magione. \end{DoxyCompactList}\item 
\mbox{\hyperlink{struct_room}{Room}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{dungeon_8h_aa431f58f4ea2b5a9143e69cc0c48069f}{generate\+Room\+Cave}} (\mbox{\hyperlink{struct_room}{Room}} \texorpdfstring{$\ast$}{*}room)
\begin{DoxyCompactList}\small\item\em Genera una stanza specifica per il dungeon della grotta. \end{DoxyCompactList}\item 
\mbox{\hyperlink{struct_room}{Room}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{dungeon_8h_a52c7f9d4deb0163ae11e358d4a7fd17f}{trap\+Room}} (\mbox{\hyperlink{struct_room}{Room}} \texorpdfstring{$\ast$}{*}area, \mbox{\hyperlink{types_8h_a7528c99602f8e1d3ce89121bbebbb5c3}{Dungeon\+Type}} type, int random)
\begin{DoxyCompactList}\small\item\em Configura una stanza come trappola. \end{DoxyCompactList}\item 
\mbox{\hyperlink{struct_room}{Room}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{dungeon_8h_a430c4ee0358cc901c64aca665004cec7}{combat\+Room}} (\mbox{\hyperlink{struct_room}{Room}} \texorpdfstring{$\ast$}{*}area, \mbox{\hyperlink{types_8h_a7528c99602f8e1d3ce89121bbebbb5c3}{Dungeon\+Type}} type, int random)
\begin{DoxyCompactList}\small\item\em Configura una stanza come combattimento. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{dungeon_8h_ae1471f366018fcdd082d49ed92ee18d6}{free\+Dungeon}} (\mbox{\hyperlink{struct_dungeon}{Dungeon}} \texorpdfstring{$\ast$}{*}dungeon)
\begin{DoxyCompactList}\small\item\em Libera la memoria allocata per il dungeon. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{dungeon_8h_a58625ed534a6ce958ccba59e33622dca}\label{dungeon_8h_a58625ed534a6ce958ccba59e33622dca} 
\mbox{\hyperlink{struct_monster}{Monster}} {\bfseries swamp\+Monsters} \mbox{[}SWAMP\+\_\+\+MONSTERS\mbox{]}
\item 
\Hypertarget{dungeon_8h_a25a6d4b8cfe9dcb9db296ce2d8128057}\label{dungeon_8h_a25a6d4b8cfe9dcb9db296ce2d8128057} 
\mbox{\hyperlink{struct_monster}{Monster}} {\bfseries mansion\+Monsters} \mbox{[}MANSION\+\_\+\+MONSTERS\mbox{]}
\item 
\Hypertarget{dungeon_8h_a6a5d9a8dc4dec44e47558357cce1bb66}\label{dungeon_8h_a6a5d9a8dc4dec44e47558357cce1bb66} 
\mbox{\hyperlink{struct_monster}{Monster}} {\bfseries cave\+Monster}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Generazione e gestione delle stanze dei dungeon. 



\label{doc-func-members}
\Hypertarget{dungeon_8h_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{dungeon_8h_a46f6aa27a29bd75678a64e373ecc9017}\index{dungeon.h@{dungeon.h}!addRoom@{addRoom}}
\index{addRoom@{addRoom}!dungeon.h@{dungeon.h}}
\doxysubsubsection{\texorpdfstring{addRoom()}{addRoom()}}
{\footnotesize\ttfamily \label{dungeon_8h_a46f6aa27a29bd75678a64e373ecc9017} 
\mbox{\hyperlink{struct_room}{Room}} \texorpdfstring{$\ast$}{*} add\+Room (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_dungeon}{Dungeon}} \texorpdfstring{$\ast$}{*}}]{dungeon}{}\end{DoxyParamCaption})}



Aggiunge una nuova stanza al dungeon. 


\begin{DoxyParams}{Parameters}
{\em dungeon} & Puntatore al dungeon \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Puntatore alla stanza creata
\end{DoxyReturn}
Aggiunge una nuova stanza al dungeon.

Genera una stanza casuale con generate\+Room, le assegna un numero progressivo e la inserisce in coda alla lista concatenata. Se è la prima stanza, diventa sia start che end della lista. Il contatore room\+Count viene incrementato automaticamente.


\begin{DoxyParams}{Parameters}
{\em dungeon} & Puntatore al dungeon \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Puntatore alla stanza appena creata 
\end{DoxyReturn}
\Hypertarget{dungeon_8h_a430c4ee0358cc901c64aca665004cec7}\index{dungeon.h@{dungeon.h}!combatRoom@{combatRoom}}
\index{combatRoom@{combatRoom}!dungeon.h@{dungeon.h}}
\doxysubsubsection{\texorpdfstring{combatRoom()}{combatRoom()}}
{\footnotesize\ttfamily \label{dungeon_8h_a430c4ee0358cc901c64aca665004cec7} 
\mbox{\hyperlink{struct_room}{Room}} \texorpdfstring{$\ast$}{*} combat\+Room (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_room}{Room}} \texorpdfstring{$\ast$}{*}}]{room}{, }\item[{\mbox{\hyperlink{types_8h_a7528c99602f8e1d3ce89121bbebbb5c3}{Dungeon\+Type}}}]{type}{, }\item[{int}]{monster\+Index}{}\end{DoxyParamCaption})}



Configura una stanza come combattimento. 


\begin{DoxyParams}{Parameters}
{\em area} & Puntatore alla stanza \\
\hline
{\em type} & Tipo di dungeon \\
\hline
{\em random} & Indice casuale per la selezione del mostro \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Puntatore alla stanza configurata
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em room} & Puntatore alla stanza \\
\hline
{\em type} & Tipo di dungeon \\
\hline
{\em monster\+Index} & Indice del mostro da mettere \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Puntatore alla stanza configurata 
\end{DoxyReturn}
\Hypertarget{dungeon_8h_ae1471f366018fcdd082d49ed92ee18d6}\index{dungeon.h@{dungeon.h}!freeDungeon@{freeDungeon}}
\index{freeDungeon@{freeDungeon}!dungeon.h@{dungeon.h}}
\doxysubsubsection{\texorpdfstring{freeDungeon()}{freeDungeon()}}
{\footnotesize\ttfamily \label{dungeon_8h_ae1471f366018fcdd082d49ed92ee18d6} 
void free\+Dungeon (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_dungeon}{Dungeon}} \texorpdfstring{$\ast$}{*}}]{dungeon}{}\end{DoxyParamCaption})}



Libera la memoria allocata per il dungeon. 


\begin{DoxyParams}{Parameters}
{\em dungeon} & Puntatore al dungeon da liberare\\
\hline
\end{DoxyParams}
Libera la memoria allocata per il dungeon.

Attraversa la lista concatenata delle stanze deallocando ciascuna di esse in sequenza per prevenire memory leak, poi libera anche la struttura principale del dungeon.


\begin{DoxyParams}{Parameters}
{\em dungeon} & Puntatore al dungeon da deallocare \\
\hline
\end{DoxyParams}
\Hypertarget{dungeon_8h_aa19b29c001b15425389f03c6e74478c3}\index{dungeon.h@{dungeon.h}!generateDungeon@{generateDungeon}}
\index{generateDungeon@{generateDungeon}!dungeon.h@{dungeon.h}}
\doxysubsubsection{\texorpdfstring{generateDungeon()}{generateDungeon()}}
{\footnotesize\ttfamily \label{dungeon_8h_aa19b29c001b15425389f03c6e74478c3} 
\mbox{\hyperlink{struct_dungeon}{Dungeon}} \texorpdfstring{$\ast$}{*} generate\+Dungeon (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_dungeon}{Dungeon}} \texorpdfstring{$\ast$}{*}}]{dungeon}{}\end{DoxyParamCaption})}



Inizializza un nuovo dungeon vuoto. 


\begin{DoxyParams}{Parameters}
{\em dungeon} & Puntatore al dungeon da inizializzare \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Puntatore al dungeon inizializzato
\end{DoxyReturn}
Inizializza un nuovo dungeon vuoto.

Prepara il dungeon impostando i puntatori della lista concatenata a NULL e azzerando il contatore delle stanze per permettere l\textquotesingle{}aggiunta progressiva di nuove stanze tramite add\+Room.


\begin{DoxyParams}{Parameters}
{\em dungeon} & Puntatore alla struttura \doxylink{struct_dungeon}{Dungeon} da inizializzare \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Puntatore alla struttura \doxylink{struct_dungeon}{Dungeon} inizializzata 
\end{DoxyReturn}
\Hypertarget{dungeon_8h_af33fb2c001bbd1201abb8ea8459365c3}\index{dungeon.h@{dungeon.h}!generateRoom@{generateRoom}}
\index{generateRoom@{generateRoom}!dungeon.h@{dungeon.h}}
\doxysubsubsection{\texorpdfstring{generateRoom()}{generateRoom()}}
{\footnotesize\ttfamily \label{dungeon_8h_af33fb2c001bbd1201abb8ea8459365c3} 
\mbox{\hyperlink{struct_room}{Room}} \texorpdfstring{$\ast$}{*} generate\+Room (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_dungeon}{Dungeon}} \texorpdfstring{$\ast$}{*}}]{dungeon}{}\end{DoxyParamCaption})}



Genera una stanza casuale in base al tipo di dungeon. 


\begin{DoxyParams}{Parameters}
{\em dungeon} & Puntatore al dungeon \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Puntatore alla stanza generata
\end{DoxyReturn}
Genera una stanza casuale in base al tipo di dungeon.

Alloca la memoria per una nuova stanza e passa la configurazione alla funzione appropriata in base al tipo di missione (SWAMP, MANSION o CAVE).


\begin{DoxyParams}{Parameters}
{\em dungeon} & Puntatore al dungeon corrente \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Puntatore alla stanza generata 
\end{DoxyReturn}
\Hypertarget{dungeon_8h_aa431f58f4ea2b5a9143e69cc0c48069f}\index{dungeon.h@{dungeon.h}!generateRoomCave@{generateRoomCave}}
\index{generateRoomCave@{generateRoomCave}!dungeon.h@{dungeon.h}}
\doxysubsubsection{\texorpdfstring{generateRoomCave()}{generateRoomCave()}}
{\footnotesize\ttfamily \label{dungeon_8h_aa431f58f4ea2b5a9143e69cc0c48069f} 
\mbox{\hyperlink{struct_room}{Room}} \texorpdfstring{$\ast$}{*} generate\+Room\+Cave (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_room}{Room}} \texorpdfstring{$\ast$}{*}}]{room}{}\end{DoxyParamCaption})}



Genera una stanza specifica per il dungeon della grotta. 


\begin{DoxyParams}{Parameters}
{\em room} & Puntatore alla stanza da configurare \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Puntatore alla stanza configurata
\end{DoxyReturn}
Genera una stanza specifica per il dungeon della grotta.

La grotta ha tre tipi di stanze\+: vuote, con trappole o con mostri. Alcune trappole sono particolari, tipo il forziere che può dare monete o fare danno, e la rupe che fa danni casuali.


\begin{DoxyParams}{Parameters}
{\em room} & Puntatore alla stanza da configurare \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Puntatore alla stanza configurata 
\end{DoxyReturn}
\Hypertarget{dungeon_8h_aedb836275d6d2f868c2faac640399de3}\index{dungeon.h@{dungeon.h}!generateRoomMansion@{generateRoomMansion}}
\index{generateRoomMansion@{generateRoomMansion}!dungeon.h@{dungeon.h}}
\doxysubsubsection{\texorpdfstring{generateRoomMansion()}{generateRoomMansion()}}
{\footnotesize\ttfamily \label{dungeon_8h_aedb836275d6d2f868c2faac640399de3} 
\mbox{\hyperlink{struct_room}{Room}} \texorpdfstring{$\ast$}{*} generate\+Room\+Mansion (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_room}{Room}} \texorpdfstring{$\ast$}{*}}]{room}{}\end{DoxyParamCaption})}



Genera una stanza specifica per il dungeon della magione. 


\begin{DoxyParams}{Parameters}
{\em room} & Puntatore alla stanza da configurare \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Puntatore alla stanza configurata
\end{DoxyReturn}
Genera una stanza specifica per il dungeon della magione.

Ogni stanza può avere una trappola fissa o uno dei cinque nemici della magione


\begin{DoxyParams}{Parameters}
{\em room} & Puntatore alla stanza da configurare \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Puntatore alla stanza configurata 
\end{DoxyReturn}
\Hypertarget{dungeon_8h_a741a4947ec416b9fce0634c4307ec9b6}\index{dungeon.h@{dungeon.h}!generateRoomSwamp@{generateRoomSwamp}}
\index{generateRoomSwamp@{generateRoomSwamp}!dungeon.h@{dungeon.h}}
\doxysubsubsection{\texorpdfstring{generateRoomSwamp()}{generateRoomSwamp()}}
{\footnotesize\ttfamily \label{dungeon_8h_a741a4947ec416b9fce0634c4307ec9b6} 
\mbox{\hyperlink{struct_room}{Room}} \texorpdfstring{$\ast$}{*} generate\+Room\+Swamp (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_room}{Room}} \texorpdfstring{$\ast$}{*}}]{room}{}\end{DoxyParamCaption})}



Genera una stanza specifica per il dungeon della palude. 


\begin{DoxyParams}{Parameters}
{\em room} & Puntatore alla stanza da configurare \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Puntatore alla stanza configurata
\end{DoxyReturn}
Genera una stanza specifica per il dungeon della palude.

Le stanze hanno trappole o mostri casuali. Le trappole nella palude fanno un danno variabile tra 1 e 5.


\begin{DoxyParams}{Parameters}
{\em room} & Puntatore alla stanza da configurare \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Puntatore alla stanza configurata 
\end{DoxyReturn}
\Hypertarget{dungeon_8h_a52c7f9d4deb0163ae11e358d4a7fd17f}\index{dungeon.h@{dungeon.h}!trapRoom@{trapRoom}}
\index{trapRoom@{trapRoom}!dungeon.h@{dungeon.h}}
\doxysubsubsection{\texorpdfstring{trapRoom()}{trapRoom()}}
{\footnotesize\ttfamily \label{dungeon_8h_a52c7f9d4deb0163ae11e358d4a7fd17f} 
\mbox{\hyperlink{struct_room}{Room}} \texorpdfstring{$\ast$}{*} trap\+Room (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_room}{Room}} \texorpdfstring{$\ast$}{*}}]{room}{, }\item[{\mbox{\hyperlink{types_8h_a7528c99602f8e1d3ce89121bbebbb5c3}{Dungeon\+Type}}}]{type}{, }\item[{int}]{random\+Index}{}\end{DoxyParamCaption})}



Configura una stanza come trappola. 


\begin{DoxyParams}{Parameters}
{\em area} & Puntatore alla stanza \\
\hline
{\em type} & Tipo di dungeon \\
\hline
{\em random} & Indice casuale per la selezione della trappola \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Puntatore alla stanza configurata
\end{DoxyReturn}
Gestisce i tre tipi di trappole dei vari dungeon. La grotta ha trappole speciali\+: il forziere lancia una moneta per decidere se dare ricompense o fare danno, la rupe fa danni variabili con un dado.


\begin{DoxyParams}{Parameters}
{\em room} & Puntatore alla stanza \\
\hline
{\em type} & Tipo di dungeon \\
\hline
{\em random\+Index} & Indice per scegliere la trappola \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Puntatore alla stanza configurata 
\end{DoxyReturn}
